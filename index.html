<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplos de Métodos de Arrays</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        body {
            background-color: #f8f9fa;
        }

        .method-section {
            margin: 20px 0;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .method-header {
            background-color: #0d6efd;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        pre {
            background-color: #f1f1f1;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        button {
            margin-top: 10px;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1 class="text-center my-4">Ejemplos de Métodos de Arrays</h1>
        <div id="examples"></div>
    </div>

    <script>
        // Array principal de objetos.
        const examples = [
            {
                method: "1. Array.prototype.at()",
                description: "Accede al elemento en una posición específica (soporta índices negativos).",
                example: `let array = [10, 20, 30, 40];
// El índice -1 devuelve el último elemento
let result = array.at(-1);`,
                execute: () => {
                    let array = [10, 20, 30, 40];
                    return array.at(-1); // Devuelve 40
                }
            },
            {
                method: "2. Array.prototype.concat()",
                description: "Combina dos o más arrays y devuelve uno nuevo sin modificar los existentes.",
                example: `let array1 = [10, 20];
let array2 = [30, 40];
let result = array1.concat(array2);`,
                execute: () => {
                    let array1 = [10, 20];
                    let array2 = [30, 40];
                    return array1.concat(array2); // Devuelve [10, 20, 30, 40]
                }
            },
            {
                method: "3. Array.prototype.copyWithin()",
                description: "Copia una parte del array dentro del mismo array (modifica el original).",
                example: `let array = [10, 20, 30, 40];
// Copia al índice 0 los elementos desde el índice 2 en adelante
array.copyWithin(0, 2);`,
                execute: () => {
                    let array = [10, 20, 30, 40];
                    return array.copyWithin(0, 2); // Devuelve [30, 40, 30, 40]
                }
            },
            {
                method: "4. Array.prototype.entries()",
                description: "Devuelve un nuevo objeto Iterador que contiene los pares clave/valor para cada índice.",
                example: `let array = ["a", "b", "c"];
let iterador = array.entries();
// Usamos spread [...] para visualizar el iterador
console.log([...iterador]);`,
                execute: () => {
                    let array = ["a", "b", "c"];
                    return [...array.entries()]; // [[0, "a"], [1, "b"], [2, "c"]]
                }
            },
            {
                method: "5. Array.prototype.every()",
                description: "Determina si todos los elementos en el array cumplen una condición.",
                example: `let array = [1, 30, 39, 29, 10, 13];
// ¿Son todos menores de 40?
let esVerdad = array.every(currentValue => currentValue < 40);`,
                execute: () => {
                    let array = [1, 30, 39, 29, 10, 13];
                    return array.every(currentValue => currentValue < 40); // true
                }
            },
            {
                method: "6. Array.prototype.fill()",
                description: "Cambia todos los elementos de un array por un valor estático.",
                example: `let array = [1, 2, 3, 4];
// Rellenar con 0 desde la posición 2 hasta el 4
console.log(array.fill(0, 2, 4));`,
                execute: () => {
                    let array = [1, 2, 3, 4];
                    return array.fill(0, 2, 4); // [1, 2, 0, 0]
                }
            },
            {
                method: "7. Array.prototype.filter()",
                description: "Crea un nuevo array con todos los elementos que cumplan la condición.",
                example: `let words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];
let result = words.filter(word => word.length > 6);`,
                execute: () => {
                    let words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];
                    return words.filter(word => word.length > 6); // ["exuberant", "destruction", "present"]
                }
            },
            {
                method: "8. Array.prototype.find()",
                description: "Devuelve el valor del primer elemento del array que cumple la función de prueba.",
                example: `let array = [5, 12, 8, 130, 44];
let found = array.find(element => element > 10);`,
                execute: () => {
                    let array = [5, 12, 8, 130, 44];
                    return array.find(element => element > 10); // 12
                }
            },
            {
                method: "9. Array.prototype.findIndex()",
                description: "Devuelve el índice del primer elemento del array que cumple la función de prueba.",
                example: `let array = [5, 12, 8, 130, 44];
let isLargeNumber = (element) => element > 13;
let index = array.findIndex(isLargeNumber);`,
                execute: () => {
                    let array = [5, 12, 8, 130, 44];
                    return array.findIndex((element) => element > 13); // 3
                }
            },
            {
                method: "10. Array.prototype.findLast()",
                description: "Itera el array en orden inverso y devuelve el valor del primer elemento que satisface la condición.",
                example: `let array = [5, 12, 50, 130, 44];
let found = array.findLast(element => element > 45);`,
                execute: () => {
                    let array = [5, 12, 50, 130, 44];
                    return array.findLast(element => element > 45); // 44 (el último que cumple)
                }
            },
            {
                method: "11. Array.prototype.findLastIndex()",
                description: "Itera el array en orden inverso y devuelve el índice del primer elemento que satisface la condición.",
                example: `let array = [5, 12, 50, 130, 44];
let index = array.findLastIndex(element => element > 45);`,
                execute: () => {
                    let array = [5, 12, 50, 130, 44];
                    return array.findLastIndex(element => element > 45); // 4 (posición del 44)
                }
            },
            {
                method: "12. Array.prototype.flat()",
                description: "Crea un nuevo array con todos los elementos de sub-array concatenados recursivamente hasta la profundidad especificada.",
                example: `let array = [0, 1, 2, [3, 4]];
let newArray = array.flat();`,
                execute: () => {
                    let array = [0, 1, 2, [3, 4]];
                    return array.flat(); // [0, 1, 2, 3, 4]
                }
            },
            {
                method: "13. Array.prototype.flatMap()",
                description: "Primero mapea cada elemento usando una función de mapeo, luego aplana el resultado en un nuevo array.",
                example: `let arr = [1, 2, 1];
let result = arr.flatMap(num => (num === 2 ? [2, 2] : 1));`,
                execute: () => {
                    let arr = [1, 2, 1];
                    return arr.flatMap(num => (num === 2 ? [2, 2] : 1)); // [1, 2, 2, 1]
                }
            },
            {
                method: "14. Array.prototype.forEach()",
                description: "Ejecuta la función indicada una vez por cada elemento del array. (No devuelve nada, solo ejecuta).",
                example: `let array = ['a', 'b', 'c'];
let output = "";
array.forEach(element => output += element + ", ");
return output;`,
                execute: () => {
                    let array = ['a', 'b', 'c'];
                    let output = "";
                    array.forEach(element => output += element + ", ");
                    return output; // "a, b, c, "
                }
            },
            {
                method: "15. Array.prototype.includes()",
                description: "Determina si un array incluye un determinado elemento, devuelve true o false.",
                example: `let array = [1, 2, 3];
let result = array.includes(2);`,
                execute: () => {
                    let array = [1, 2, 3];
                    return array.includes(2); // true
                }
            },
            {
                method: "16. Array.prototype.indexOf()",
                description: "Retorna el primer índice en el que se puede encontrar un elemento dado en el array, ó -1 si no está presente.",
                example: `let beasts = ['ant', 'bison', 'camel', 'duck', 'bison'];
let index = beasts.indexOf('bison');`,
                execute: () => {
                    let beasts = ['ant', 'bison', 'camel', 'duck', 'bison'];
                    return beasts.indexOf('bison'); // 1
                }
            },
            {
                method: "17. Array.prototype.join()",
                description: "Une todos los elementos de un array en una cadena y la devuelve.",
                example: `let elements = ['Fire', 'Air', 'Water'];
let result = elements.join("-");`,
                execute: () => {
                    let elements = ['Fire', 'Air', 'Water'];
                    return elements.join("-"); // "Fire-Air-Water"
                }
            },
            {
                method: "18. Array.prototype.keys()",
                description: "Devuelve un nuevo objeto Iterador de array que contiene las claves (índices) para cada índice del array.",
                example: `let array = ['a', 'b', 'c'];
// Convertimos iterador a array para visualizarlo
let keys = [...array.keys()];`,
                execute: () => {
                    let array = ['a', 'b', 'c'];
                    return [...array.keys()]; // [0, 1, 2]
                }
            },
            {
                method: "19. Array.prototype.lastIndexOf()",
                description: "Devuelve el último índice en el que se puede encontrar un elemento dado en el array.",
                example: `let animals = ['Dodo', 'Tiger', 'Penguin', 'Dodo'];
let index = animals.lastIndexOf('Dodo');`,
                execute: () => {
                    let animals = ['Dodo', 'Tiger', 'Penguin', 'Dodo'];
                    return animals.lastIndexOf('Dodo'); // 3
                }
            },
            {
                method: "20. Array.prototype.map()",
                description: "Crea un nuevo array con los resultados de la llamada a la función indicada aplicados a cada uno de sus elementos.",
                example: `let array = [1, 4, 9, 16];
let map = array.map(x => x * 2);`,
                execute: () => {
                    let array = [1, 4, 9, 16];
                    return array.map(x => x * 2); // [2, 8, 18, 32]
                }
            },
            {
                method: "21. Array.prototype.pop()",
                description: "Elimina el último elemento de un array y lo devuelve. Este método cambia la longitud del array.",
                example: `let plants = ['broccoli', 'cauliflower', 'cabbage'];
let eliminado = plants.pop();`,
                execute: () => {
                    let plants = ['broccoli', 'cauliflower', 'cabbage'];
                    return plants.pop(); // "cabbage"
                }
            },
            {
                method: "22. Array.prototype.push()",
                description: "Añade uno o más elementos al final de un array y devuelve la nueva longitud del array.",
                example: `let animals = ['pigs', 'goats', 'sheep'];
let count = animals.push('cows');`,
                execute: () => {
                    let animals = ['pigs', 'goats', 'sheep'];
                    return animals.push('cows'); // 4 
                }
            },
            {
                method: "23. Array.prototype.reduce()",
                description: "Ejecuta una función reductora sobre cada elemento del array, resultando en un único valor de retorno.",
                example: `let array = [1, 2, 3, 4];
// Sumar todos los números: 1+2+3+4
let total = array.reduce((acumulador, actual) => acumulador + actual, 0);`,
                execute: () => {
                    let array = [1, 2, 3, 4];
                    return array.reduce((acc, cur) => acc + cur, 0); // 10
                }
            },
            {
                method: "24. Array.prototype.reduceRight()",
                description: "Aplica una función contra un acumulador y cada valor del array (de derecha a izquierda) para reducirlo a un único valor.",
                example: `let array = ['1', '2', '3', '4'];
let result = array.reduceRight((acc, cur) => acc + cur);`,
                execute: () => {
                    let array = ['1', '2', '3', '4'];
                    return array.reduceRight((acc, cur) => acc + cur); // "4321"
                }
            },
            {
                method: "25. Array.prototype.reverse()",
                description: "Invierte el orden de los elementos de un array in place (modifica el original).",
                example: `let array = ['one', 'two', 'three'];
let reversed = array.reverse();`,
                execute: () => {
                    let array = ['one', 'two', 'three'];
                    return array.reverse(); // ["three", "two", "one"]
                }
            },
            {
                method: "26. Array.prototype.shift()",
                description: "Elimina el primer elemento del array y retorna ese elemento. Modifica la longitud del array.",
                example: `let array = [1, 2, 3];
let firstElement = array.shift();`,
                execute: () => {
                    let array = [1, 2, 3];
                    return array.shift(); // 1
                }
            },
            {
                method: "27. Array.prototype.slice()",
                description: "Devuelve una copia de una parte del array dentro de un nuevo array.",
                example: `let animals = ['ant', 'bison', 'camel', 'duck', 'elephant'];
// Desde el índice 2 hasta el 4 (sin incluir el 4)
let result = animals.slice(2, 4);`,
                execute: () => {
                    let animals = ['ant', 'bison', 'camel', 'duck', 'elephant'];
                    return animals.slice(2, 4); // ["camel", "duck"]
                }
            },
            {
                method: "28. Array.prototype.some()",
                description: "Comprueba si al menos un elemento del array cumple con la condición implementada por la función.",
                example: `let array = [1, 2, 3, 4, 5];
// ¿Hay algún número par?
let even = array.some(element => element % 2 === 0);`,
                execute: () => {
                    let array = [1, 2, 3, 4, 5];
                    return array.some(element => element % 2 === 0); // true
                }
            },
            {
                method: "29. Array.prototype.sort()",
                description: "Ordena los elementos de un array localmente y devuelve el array ordenado.",
                example: `let months = ['March', 'Jan', 'Feb', 'Dec'];
months.sort();`,
                execute: () => {
                    let months = ['March', 'Jan', 'Feb', 'Dec'];
                    return months.sort(); // ["Dec", "Feb", "Jan", "March"]
                }
            },
            {
                method: "30. Array.prototype.splice()",
                description: "Cambia el contenido de un array eliminando elementos existentes y/o agregando nuevos elementos.",
                example: `let months = ['Jan', 'March', 'April', 'June'];
// Inserta 'Feb' en el índice 1
months.splice(1, 0, 'Feb');
return months;`,
                execute: () => {
                    let months = ['Jan', 'March', 'April', 'June'];
                    months.splice(1, 0, 'Feb');
                    return months; // ["Jan", "Feb", "March", "April", "June"]
                }
            },
            {
                method: "31. Array.prototype.[@@iterator]()",
                description: "La función iteradora por defecto (es igual a values()).",
                example: `let array = ['a', 'b', 'c'];
let iterator = array[Symbol.iterator]();
// Lo mostramos como array
console.log([...iterator]);`,
                execute: () => {
                    let array = ['a', 'b', 'c'];
                    return [...array[Symbol.iterator]()]; // ["a", "b", "c"]
                }
            },
            {
                method: "32. Array.prototype.toLocaleString()",
                description: "Devuelve una cadena de texto representando los elementos del array. Son convertidos a cadenas usando su configuración regional.",
                example: `let array = [1, 'a', new Date()];
let string = array.toLocaleString('es-ES');`,
                execute: () => {
                    let array = [1, 'a', new Date('2023-01-01')]; // Fecha fija para ejemplo
                    return array.toLocaleString('es-ES'); // "1, a, 1/1/2023..."
                }
            },
            {
                method: "33. Array.prototype.toReversed()",
                description: "Es la versión no destructiva de reverse(). Devuelve un nuevo array con los elementos en orden inverso.",
                example: `let items = [1, 2, 3];
let reversed = items.toReversed();`,
                execute: () => {
                    let items = [1, 2, 3];
                    return items.toReversed(); // [3, 2, 1]
                }
            },
            {
                method: "34. Array.prototype.toSorted()",
                description: "Es la versión no destructiva de sort(). Devuelve un nuevo array con los elementos ordenados.",
                example: `let months = ['Mar', 'Jan', 'Feb', 'Dec'];
let sorted = months.toSorted();`,
                execute: () => {
                    let months = ['Mar', 'Jan', 'Feb', 'Dec'];
                    return months.toSorted(); // ["Dec", "Feb", "Jan", "Mar"]
                }
            },
            {
                method: "35. Array.prototype.toSpliced()",
                description: "Es la versión no destructiva de splice(). Devuelve un nuevo array con algunos elementos eliminados y/o reemplazados.",
                example: `let months = ['Jan', 'Mar', 'Apr', 'May'];
// Nuevo array con 'Feb' insertado en indice 1
let newMonths = months.toSpliced(1, 0, 'Feb');`,
                execute: () => {
                    let months = ['Jan', 'Mar', 'Apr', 'May'];
                    return months.toSpliced(1, 0, 'Feb'); // ["Jan", "Feb", "Mar", "Apr", "May"]
                }
            },
            {
                method: "36. Array.prototype.toString()",
                description: "Devuelve una cadena de caracteres representando el array y sus elementos.",
                example: `let array = [1, 2, 'a', '1a'];
let str = array.toString();`,
                execute: () => {
                    let array = [1, 2, 'a', '1a'];
                    return array.toString(); // "1,2,a,1a"
                }
            },
            {
                method: "37. Array.prototype.unshift()",
                description: "Agrega uno o más elementos al inicio del array y devuelve la nueva longitud del array.",
                example: `let array = [1, 2, 3];
let newLength = array.unshift(4, 5);`,
                execute: () => {
                    let array = [1, 2, 3];
                    return array.unshift(4, 5); // 5 (la nueva longitud)
                }
            },
            {
                method: "38. Array.prototype.values()",
                description: "Devuelve un nuevo objeto Iterador que contiene los valores para cada índice del array.",
                example: `let array = ['a', 'b', 'c'];
let iterator = array.values();
console.log([...iterator]);`,
                execute: () => {
                    let array = ['a', 'b', 'c'];
                    return [...array.values()]; // ["a", "b", "c"]
                }
            },
            {
                method: "39. Array.prototype.with()",
                description: "Devuelve un nuevo array donde el elemento en el índice dado es reemplazado por el valor dado (copia no destructiva).",
                example: `let arr = [1, 2, 3, 4, 5];
// Cambia el índice 2 (el valor 3) por 6
let newArr = arr.with(2, 6);`,
                execute: () => {
                    let arr = [1, 2, 3, 4, 5];
                    return arr.with(2, 6); // [1, 2, 6, 4, 5]
                }
            }
        ];

        // Lógica para renderizar las secciones en el HTML
        const container = document.getElementById("examples");

        examples.forEach((item, index) => {
            const { method, description, example } = item;

            const section = document.createElement("div");
            section.className = "method-section";

            section.innerHTML = `
                <div class="method-header">
                    <h2 class="h4 m-0">${method}</h2>
                </div>
                <p><strong>Descripción:</strong> ${description}</p>
                <p><strong>Código de ejemplo:</strong></p>
                <pre><code>${example}</code></pre>
                <button class="btn btn-primary" onclick="showResult(${index})">
                    Ejecutar Ejemplo
                </button>
                <div id="result-${index}" class="mt-3 alert alert-secondary" style="display: none;"></div>
            `;

            container.appendChild(section);
        });

        function showResult(index) {
            const resultDiv = document.getElementById(`result-${index}`);
            const result = examples[index].execute();
            resultDiv.style.display = "block";

            if (typeof result === 'object') {
                resultDiv.textContent = 'Resultado: ' + JSON.stringify(result, null, 2);
            } else {
                resultDiv.textContent = 'Resultado: ' + result;
            }
        }
    </script>
</body>

</html>
